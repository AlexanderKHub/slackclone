<h2>{{ activeChannel.name }}</h2>
<div>
  <div class="message">
    <mat-card *ngFor="let message of messages" (click)="openThread(message)">
      <div>{{ getUserById(message.author).displayName }}</div>
      <div [innerHTML]="message.content "></div>
      <div>{{ message.time | date: "medium" }}</div>
    </mat-card>

    <div class="center-div">
      <div class="editor-div">
        <editor [init]="{
          toolbar: 'undo redo | styles | bold italic | alignleft aligncenter alignright alignjustify | outdent indent',
          height: 200,
          branding: false,
          menubar:false,
          statusbar: false
        }" 
        [(ngModel)]="htmlMessage">
        </editor>
        <button mat-button (click)="sendMessage()">
          Send
        </button>
      </div>
    </div>
    <!-- <form class="example-form">
      <mat-form-field class="example-full-width" appearance="fill">
        <mat-label>Message</mat-label>
        <input
          matInput
          #message
          maxlength="256"
          placeholder="Ex. I need help with..."
        />
        <mat-hint align="start"
          ><strong>Don't disclose personal info</strong>
        </mat-hint>
        <mat-hint align="end">{{ message.value.length }} / 256</mat-hint>
      </mat-form-field>
      <button mat-button (click)="sendMessage(message.value)">Basic</button>
    </form> -->
  </div>
  <div *ngIf="showThread">
    <mat-card>
      <div>{{ getUserById(currentMessage.author).displayName }}</div>
      <div [innerHTML]="currentMessage.content"></div>
      <div>{{ currentMessage.time | date: "medium" }}</div>
    </mat-card>
    <mat-card *ngFor="let thread of activeThread">
      <div>{{ getUserById(thread.author).displayName }}</div>
      <div [innerHTML]="thread.content"></div>
      <div>{{ thread.time | date: "medium" }}</div>
    </mat-card>

    <editor [init]="{
      menubar: 'file edit view',
      toolbar: 'undo redo | styles | bold italic | alignleft aligncenter alignright alignjustify | outdent indent'
     }" [(ngModel)]="htmlThread">
    </editor>
    <button mat-button (click)="sendThreadMessage()">
      Send
    </button>

    <!-- <form class="example-form">
      <mat-form-field class="example-full-width" appearance="fill">
        <mat-label>Thread Message</mat-label>
        <input
          matInput
          #message2
          maxlength="256"
          placeholder="Ex. I need help with..."
        />
        <mat-hint align="start"
          ><strong>Don't disclose personal info</strong>
        </mat-hint>
        <mat-hint align="end">{{ message2.value.length }} / 256</mat-hint>
      </mat-form-field>
      <button mat-button (click)="sendThreadMessage(message2.value)">
        Basic
      </button>
    </form> -->
  </div>
</div>

